{"version":3,"sources":["webpack:///./node_modules/core-js/internals/string-repeat.js","webpack:///./node_modules/core-js/internals/this-number-value.js","webpack:///./node_modules/core-js/modules/es.number.to-fixed.js","webpack:///./src/views/Create.vue?ae2a","webpack:///src/views/Create.vue","webpack:///./src/views/Create.vue?50fc","webpack:///./src/views/Create.vue"],"names":["toInteger","requireObjectCoercible","module","exports","repeat","count","str","String","this","result","n","Infinity","RangeError","classof","value","TypeError","$","thisNumberValue","fails","nativeToFixed","toFixed","floor","Math","pow","x","acc","log","x2","FORCED","call","target","proto","forced","fractionDigits","e","z","j","k","number","fractDigits","data","sign","multiply","c","index","c2","divide","dataToString","s","t","length","slice","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","isFullPage","isLoading","on","$event","staticStyle","_v","fixInputs","model","trade","callback","$$v","$set","expression","_l","asset","key","address","domProps","_s","genesis","name","chains","pair","type","calculatePrice","amountPair","labelAsset","amountAsset","labelTrading","price","_e","isSending","openUnlock","staticRenderFns","app","$buefy","toast","open","parseFloat","senderAddress","user","payload","insertProof","signature","insertPubKey","pubkey","insertHash","hash","component"],"mappings":"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","file":"js/chunk-cc9f4a04.28d7f9ff.js","sourcesContent":["'use strict';\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.repeat` method implementation\n// https://tc39.github.io/ecma262/#sec-string.prototype.repeat\nmodule.exports = ''.repeat || function repeat(count) {\n  var str = String(requireObjectCoercible(this));\n  var result = '';\n  var n = toInteger(count);\n  if (n < 0 || n == Infinity) throw RangeError('Wrong number of repetitions');\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) result += str;\n  return result;\n};\n","var classof = require('../internals/classof-raw');\n\n// `thisNumberValue` abstract operation\n// https://tc39.github.io/ecma262/#sec-thisnumbervalue\nmodule.exports = function (value) {\n  if (typeof value != 'number' && classof(value) != 'Number') {\n    throw TypeError('Incorrect invocation');\n  }\n  return +value;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar toInteger = require('../internals/to-integer');\nvar thisNumberValue = require('../internals/this-number-value');\nvar repeat = require('../internals/string-repeat');\nvar fails = require('../internals/fails');\n\nvar nativeToFixed = 1.0.toFixed;\nvar floor = Math.floor;\n\nvar pow = function (x, n, acc) {\n  return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc);\n};\n\nvar log = function (x) {\n  var n = 0;\n  var x2 = x;\n  while (x2 >= 4096) {\n    n += 12;\n    x2 /= 4096;\n  }\n  while (x2 >= 2) {\n    n += 1;\n    x2 /= 2;\n  } return n;\n};\n\nvar FORCED = nativeToFixed && (\n  0.00008.toFixed(3) !== '0.000' ||\n  0.9.toFixed(0) !== '1' ||\n  1.255.toFixed(2) !== '1.25' ||\n  1000000000000000128.0.toFixed(0) !== '1000000000000000128'\n) || !fails(function () {\n  // V8 ~ Android 4.3-\n  nativeToFixed.call({});\n});\n\n// `Number.prototype.toFixed` method\n// https://tc39.github.io/ecma262/#sec-number.prototype.tofixed\n$({ target: 'Number', proto: true, forced: FORCED }, {\n  // eslint-disable-next-line max-statements\n  toFixed: function toFixed(fractionDigits) {\n    var number = thisNumberValue(this);\n    var fractDigits = toInteger(fractionDigits);\n    var data = [0, 0, 0, 0, 0, 0];\n    var sign = '';\n    var result = '0';\n    var e, z, j, k;\n\n    var multiply = function (n, c) {\n      var index = -1;\n      var c2 = c;\n      while (++index < 6) {\n        c2 += n * data[index];\n        data[index] = c2 % 1e7;\n        c2 = floor(c2 / 1e7);\n      }\n    };\n\n    var divide = function (n) {\n      var index = 6;\n      var c = 0;\n      while (--index >= 0) {\n        c += data[index];\n        data[index] = floor(c / n);\n        c = (c % n) * 1e7;\n      }\n    };\n\n    var dataToString = function () {\n      var index = 6;\n      var s = '';\n      while (--index >= 0) {\n        if (s !== '' || index === 0 || data[index] !== 0) {\n          var t = String(data[index]);\n          s = s === '' ? t : s + repeat.call('0', 7 - t.length) + t;\n        }\n      } return s;\n    };\n\n    if (fractDigits < 0 || fractDigits > 20) throw RangeError('Incorrect fraction digits');\n    // eslint-disable-next-line no-self-compare\n    if (number != number) return 'NaN';\n    if (number <= -1e21 || number >= 1e21) return String(number);\n    if (number < 0) {\n      sign = '-';\n      number = -number;\n    }\n    if (number > 1e-21) {\n      e = log(number * pow(2, 69, 1)) - 69;\n      z = e < 0 ? number * pow(2, -e, 1) : number / pow(2, e, 1);\n      z *= 0x10000000000000;\n      e = 52 - e;\n      if (e > 0) {\n        multiply(0, z);\n        j = fractDigits;\n        while (j >= 7) {\n          multiply(1e7, 0);\n          j -= 7;\n        }\n        multiply(pow(10, j, 1), 0);\n        j = e - 1;\n        while (j >= 23) {\n          divide(1 << 23);\n          j -= 23;\n        }\n        divide(1 << j);\n        multiply(1, 1);\n        divide(2);\n        result = dataToString();\n      } else {\n        multiply(0, z);\n        multiply(1 << -e, 0);\n        result = dataToString() + repeat.call('0', fractDigits);\n      }\n    }\n    if (fractDigits > 0) {\n      k = result.length;\n      result = sign + (k <= fractDigits\n        ? '0.' + repeat.call('0', fractDigits - k) + result\n        : result.slice(0, k - fractDigits) + '.' + result.slice(k - fractDigits));\n    } else {\n      result = sign + result;\n    } return result;\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home\"},[_c('b-loading',{attrs:{\"is-full-page\":_vm.isFullPage,\"active\":_vm.isLoading,\"can-cancel\":false},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_c('h2',{staticStyle:{\"text-align\":\"center\",\"font-size\":\"28px\",\"font-weight\":\"bold\",\"margin-bottom\":\"20px\"}},[_vm._v(\"Create new trade\")]),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-three-fifths is-offset-one-fifth\"},[_c('b-field',[_c('b-select',{attrs:{\"placeholder\":\"Select type\",\"size\":\"is-medium\",\"expanded\":\"\"},on:{\"input\":_vm.fixInputs},model:{value:(_vm.trade.type),callback:function ($$v) {_vm.$set(_vm.trade, \"type\", $$v)},expression:\"trade.type\"}},[_c('option',{attrs:{\"value\":\"BUY\"}},[_vm._v(\"I want to buy an asset\")]),_c('option',{attrs:{\"value\":\"SELL\"}},[_vm._v(\"I want to sell an asset\")])])],1),_c('b-field',[_c('b-select',{attrs:{\"placeholder\":\"Select asset\",\"size\":\"is-medium\",\"expanded\":\"\"},on:{\"input\":_vm.fixInputs},model:{value:(_vm.trade.pair),callback:function ($$v) {_vm.$set(_vm.trade, \"pair\", $$v)},expression:\"trade.pair\"}},[_c('option',{attrs:{\"value\":\"\"}},[_vm._v(\"Select an asset\")]),_vm._l((_vm.assets),function(asset){return _c('option',{key:asset.address,domProps:{\"value\":asset.address}},[_vm._v(_vm._s(asset.genesis.name))])})],2)],1),_c('b-field',{staticClass:\"text-center\",attrs:{\"label\":'Amount ' + _vm.chains[_vm.trade.pair] + ' you mean to ' + _vm.trade.type}},[_c('b-input',{attrs:{\"size\":\"is-large\",\"type\":\"is-dark\"},on:{\"input\":function($event){return _vm.calculatePrice('pair')}},model:{value:(_vm.amountPair),callback:function ($$v) {_vm.amountPair=$$v},expression:\"amountPair\"}})],1),_c('b-field',{staticClass:\"text-center\",attrs:{\"label\":'Amount LYRA ' + _vm.labelAsset}},[_c('b-input',{staticClass:\"text-center\",attrs:{\"size\":\"is-large\",\"type\":\"is-dark\"},on:{\"input\":function($event){return _vm.calculatePrice('asset')}},model:{value:(_vm.amountAsset),callback:function ($$v) {_vm.amountAsset=$$v},expression:\"amountAsset\"}})],1),(_vm.price)?_c('h3',{staticStyle:{\"text-align\":\"center\",\"font-size\":\"18px\",\"font-weight\":\"bold\",\"margin-bottom\":\"20px\"}},[_vm._v(\"You're \"+_vm._s(_vm.labelTrading)+\" at \"+_vm._s(_vm.price)+\" LYRA for 1 \"+_vm._s(_vm.chains[_vm.trade.pair]))]):_vm._e(),(!_vm.isSending)?_c('div',{staticClass:\"text-center\"},[(_vm.valid)?_c('div',{staticClass:\"button is-primary is-large\",on:{\"click\":_vm.openUnlock}},[_vm._v(\"CREATE TRADE\")]):_vm._e()]):_vm._e(),(_vm.isSending)?_c('div',{staticClass:\"text-center\"},[_vm._v(\" Creating trade, please wait. \")]):_vm._e()],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"home\">\n    <b-loading :is-full-page=\"isFullPage\" :active.sync=\"isLoading\" :can-cancel=\"false\"></b-loading>\n    <h2 style=\"text-align:center; font-size:28px; font-weight:bold; margin-bottom:20px;\">Create new trade</h2>\n    <div class=\"columns\">\n      <div class=\"column is-three-fifths is-offset-one-fifth\">\n        <b-field>\n            <b-select\n                placeholder=\"Select type\"\n                size=\"is-medium\"\n                v-model=\"trade.type\"\n                v-on:input=\"fixInputs\"\n                expanded>\n                <option value=\"BUY\">I want to buy an asset</option>\n                <option value=\"SELL\">I want to sell an asset</option>\n            </b-select>\n        </b-field>\n        <b-field>\n            <b-select\n                placeholder=\"Select asset\"\n                size=\"is-medium\"\n                v-model=\"trade.pair\"\n                v-on:input=\"fixInputs\"\n                expanded>\n                <option value=\"\">Select an asset</option>\n                <option v-for=\"asset in assets\" v-bind:key=\"asset.address\" :value=\"asset.address\">{{ asset.genesis.name }}</option>\n            </b-select>\n        </b-field>\n        <b-field :label=\"'Amount ' + chains[trade.pair] + ' you mean to ' + trade.type\" class=\"text-center\">\n            <b-input size=\"is-large\" v-model=\"amountPair\" v-on:input=\"calculatePrice('pair')\" type=\"is-dark\"></b-input>\n        </b-field>\n        <b-field :label=\"'Amount LYRA ' + labelAsset\" class=\"text-center\">\n            <b-input size=\"is-large\" class=\"text-center\" v-model=\"amountAsset\" v-on:input=\"calculatePrice('asset')\" type=\"is-dark\"></b-input>\n        </b-field>\n        <h3 v-if=\"price\" style=\"text-align:center; font-size:18px; font-weight:bold; margin-bottom:20px;\">You're {{ labelTrading }} at {{ price }} LYRA for 1 {{ chains[trade.pair] }}</h3>\n        <div class=\"text-center\" v-if=\"!isSending\">\n          <div v-if=\"valid\" v-on:click=\"openUnlock\" class=\"button is-primary is-large\">CREATE TRADE</div>\n        </div>\n        <div class=\"text-center\" v-if=\"isSending\">\n          Creating trade, please wait.\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  const axios = require('axios')\n  export default {\n    name: 'Home',\n    mounted : async function(){\n        const app = this\n        app.checkUser()\n        await app.getAllAssets()\n        app.isLoading = false\n    },\n    methods: {\n        async checkUser(){\n            const app = this\n            let user = await app.scrypta.keyExist()\n            if(user.length === 34){\n              app.user = user\n            }\n        },\n        async getAllAssets(){\n          const app = this\n          let idanode = await app.scrypta.connectNode()\n          let assets = await app.axios.get(idanode + '/sidechain/list')\n          app.assets = assets['data']['data']\n          for(let x in app.assets){\n            let asset = app.assets[x]\n            app.chains[asset.address] = asset.genesis.symbol\n          }\n        },\n        async fixInputs(){\n          const app = this\n          if(app.trade.type === 'BUY'){\n            app.labelAsset = 'you mean to spend'\n            app.labelTrading = 'buying'\n            let balance = await app.axios.post(app.apiurl + '/wallet/balance', { asset: 'LYRA', address: app.user })\n            app.userBalance = balance['data']\n          }else if(app.trade.type === 'SELL'){\n            app.labelAsset = 'you want to earn'\n            app.labelTrading = 'selling'\n            let balance = await app.axios.post(app.apiurl + '/wallet/balance', { asset: app.trade.pair, address: app.user })\n            app.userBalance = balance['data']\n          }\n        },\n        openUnlock() {\n            let valid = true\n            const app = this\n            let amountAssetWithFees = 0\n            if(app.trade.type === 'BUY'){\n              amountAssetWithFees = parseFloat(app.amountAsset) + 0.001\n              if(parseFloat(app.userBalance) < amountAssetWithFees){\n                valid = false\n                app.$buefy.toast.open({\n                    message: 'Not enough balance, you have '+app.userBalance+' LYRA!',\n                    type: 'is-danger'\n                })\n              }\n            }else if(app.trade.type === 'SELL'){\n              if(parseFloat(app.userBalance) < parseFloat(app.amountPair)){\n                valid = false\n                app.$buefy.toast.open({\n                    message: 'Not enough assets, you have '+app.userBalance+' '+app.chains[app.trade.pair]+'!',\n                    type: 'is-danger'\n                })\n              }\n            }\n            if(app.amountAsset === 0 || app.amountPair === 0 || app.trade.pair === ''){\n              valid = false\n              app.$buefy.toast.open({\n                  message: 'Fill all the fields!',\n                  type: 'is-danger'\n              })\n            }\n            if(valid === true){\n              app.$buefy.dialog.prompt({\n                  message: `Enter your wallet password`,\n                  inputAttrs: {\n                      placeholder: 'Enter password',\n                      type: 'password'\n                  },\n                  trapFocus: true,\n                  onConfirm: async (value) => {\n                    let wallet = await app.scrypta.readKey(value)\n                    if(wallet === false){\n                      app.$buefy.toast.open({\n                          message: 'Wrong password!',\n                          type: 'is-danger'\n                      })\n                    }else{\n                      app.isSending = true\n                      let payload = {\n                        asset: \"LYRA\",\n                        pair: app.trade.pair,\n                        type: app.trade.type,\n                        amountAsset: parseFloat(app.amountAsset),\n                        amountPair: parseFloat(app.amountPair),\n                        senderAddress: app.user\n                      }\n                      let sign = await app.scrypta.signMessage(wallet.prv, JSON.stringify(payload))\n                      payload.insertProof = sign.signature\n                      payload.insertPubKey = sign.pubkey\n                      payload.insertHash = sign.hash\n                      let create = await app.axios.post(app.apiurl + '/trades/create',payload)\n                      if(create['data']['success'] === true){\n                        if(app.trade.type === 'BUY'){\n                          let send = await app.axios.post(app.apiurl + '/wallet/sendlyra',{\n                            \"from\": app.user,\n                            \"to\": create['data']['address'],\n                            \"amount\": amountAssetWithFees,\n                            \"private_key\": wallet.prv\n                          })\n                          app.isSending = false\n                          if(send['data']['success'] === true){\n                            app.$buefy.toast.open({\n                                message: 'Order placed correctly!',\n                                type: 'is-success'\n                            })\n                            setTimeout(function(){\n                              window.location = '/#/user'\n                            },1000)\n                          }else{\n                            app.$buefy.toast.open({\n                                  message: 'Somthing goes wrong please retry.',\n                                  type: 'is-danger'\n                              })\n                          }\n                        }else if(app.trade.type === 'SELL'){\n                          let send = await app.axios.post(app.apiurl + '/wallet/sendtoken',{\n                            \"from\": app.user,\n                            \"to\": create['data']['address'],\n                            \"amount\": app.amountPair,\n                            \"private_key\": wallet.prv,\n                            \"pubkey\": wallet.key,\n                            \"sidechain_address\": app.trade.pair,\n                            \"fee\": 0.001\n                          })\n                          app.isSending = false\n                          if(send['data']['lyra']['success'] === true && send['data']['sidechain']['txs'].length === 1){\n                            app.$buefy.toast.open({\n                                message: 'Order placed correctly!',\n                                type: 'is-success'\n                            })\n                            setTimeout(function(){\n                              window.location = '/#/user'\n                            },1000)\n                          }else{\n                            app.$buefy.toast.open({\n                              message: 'Somthing goes wrong please retry.',\n                              type: 'is-danger'\n                            })\n                            app.isSending = false\n                          }\n                        }\n                      }else{\n                        app.$buefy.toast.open({\n                            message: create['data']['message'],\n                            type: 'is-danger'\n                        })\n                        app.isSending = false\n                      }\n                    }\n                  }\n              })\n            }\n        },\n        calculatePrice(){\n          const app = this\n          if(app.amountAsset > 0 && app.amountPair > 0){\n            app.price = parseFloat(app.amountAsset) / parseFloat(app.amountPair)\n            app.price = parseFloat(app.price.toFixed(8))\n          }\n        },\n        async logout() {\n            const app = this;\n            await app.scrypta.forgetKey();\n            location.reload();\n        }\n    },\n    data () {\n        return {\n          scrypta: window.ScryptaCore,\n          axios: axios,\n          user: '',\n          userBalance: 0,\n          valid: true,\n          focus: '',\n          isLoading: true,\n          isFullPage: true,\n          isSending: false,\n          labelAsset: 'you mean to spend',\n          labelTrading: 'buying',\n          assetSelected: '',\n          amountPair: 0,\n          amountAsset: 0,\n          price: 0,\n          trade: {\n            type: 'BUY',\n            pair: '',\n            price: 0\n          },\n          chains: {\n            \"\": \"\"\n          },\n          assets: [],\n          apiurl: 'http://178.62.200.158:3002'\n        }\n    }\n  }\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Create.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Create.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Create.vue?vue&type=template&id=52ce851e&\"\nimport script from \"./Create.vue?vue&type=script&lang=js&\"\nexport * from \"./Create.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}