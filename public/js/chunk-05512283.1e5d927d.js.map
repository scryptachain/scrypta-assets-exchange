{"version":3,"sources":["webpack:///./node_modules/core-js/internals/string-repeat.js","webpack:///./node_modules/core-js/internals/this-number-value.js","webpack:///./src/views/Trade.vue?319a","webpack:///src/views/Trade.vue","webpack:///./src/views/Trade.vue?663c","webpack:///./src/views/Trade.vue","webpack:///./node_modules/core-js/modules/es.number.to-fixed.js"],"names":["toInteger","requireObjectCoercible","module","exports","repeat","count","str","String","this","result","n","Infinity","RangeError","classof","value","TypeError","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","isFullPage","isLoading","on","$event","trade","owner","user","type","staticStyle","_v","_s","sidechain","data","genesis","symbol","price","amountPair","fixAmounts","model","callback","$$v","expression","amountAsset","userBalance","isSending","_e","openUnlock","valid","staticRenderFns","app","$buefy","toast","open","component","$","thisNumberValue","fails","nativeToFixed","toFixed","floor","Math","pow","x","acc","log","x2","FORCED","call","target","proto","forced","fractionDigits","e","z","j","k","number","fractDigits","sign","multiply","c","index","c2","divide","dataToString","s","t","length","slice"],"mappings":"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","file":"js/chunk-05512283.1e5d927d.js","sourcesContent":["'use strict';\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.repeat` method implementation\n// https://tc39.github.io/ecma262/#sec-string.prototype.repeat\nmodule.exports = ''.repeat || function repeat(count) {\n  var str = String(requireObjectCoercible(this));\n  var result = '';\n  var n = toInteger(count);\n  if (n < 0 || n == Infinity) throw RangeError('Wrong number of repetitions');\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) result += str;\n  return result;\n};\n","var classof = require('../internals/classof-raw');\n\n// `thisNumberValue` abstract operation\n// https://tc39.github.io/ecma262/#sec-thisnumbervalue\nmodule.exports = function (value) {\n  if (typeof value != 'number' && classof(value) != 'Number') {\n    throw TypeError('Incorrect invocation');\n  }\n  return +value;\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home\"},[_c('b-loading',{attrs:{\"is-full-page\":_vm.isFullPage,\"active\":_vm.isLoading,\"can-cancel\":false},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),(_vm.trade.owner !== _vm.user)?_c('div',{staticClass:\"columns\"},[(_vm.trade.type === 'SELL')?_c('div',{staticClass:\"column is-three-fifths is-offset-one-fifth\"},[_c('h2',{staticStyle:{\"text-align\":\"center\",\"font-size\":\"28px\",\"font-weight\":\"bold\",\"margin-bottom\":\"20px\"}},[_vm._v(\"Buy \"+_vm._s(_vm.sidechain.data.genesis.symbol)+\" for LYRA\")]),_c('h3',{staticStyle:{\"text-align\":\"center\",\"font-size\":\"18px\",\"font-weight\":\"bold\",\"margin-bottom\":\"20px\"}},[_vm._v(\"Price is \"+_vm._s(_vm.trade.price)+\" LYRA for 1 \"+_vm._s(_vm.sidechain.data.genesis.symbol))]),_c('b-field',{staticClass:\"text-center\",attrs:{\"label\":'Amount you mean to buy (Max is '+ _vm.trade.amountPair +' ' + _vm.sidechain.data.genesis.symbol +')'}},[_c('b-input',{attrs:{\"size\":\"is-large\",\"controls\":false,\"type\":\"is-dark\"},on:{\"input\":function($event){return _vm.fixAmounts('pair')}},model:{value:(_vm.amountPair),callback:function ($$v) {_vm.amountPair=$$v},expression:\"amountPair\"}})],1),_c('b-field',{staticClass:\"text-center\",attrs:{\"label\":'Amount you will spend (Max is '+ _vm.trade.amountAsset +' LYRA)'}},[_c('b-input',{staticClass:\"text-center\",attrs:{\"size\":\"is-large\",\"controls\":false,\"type\":\"is-dark\"},on:{\"input\":function($event){return _vm.fixAmounts('asset')}},model:{value:(_vm.amountAsset),callback:function ($$v) {_vm.amountAsset=$$v},expression:\"amountAsset\"}})],1),_c('div',{staticStyle:{\"text-align\":\"right\",\"font-size\":\"14px\"}},[_vm._v(\"You have \"+_vm._s(_vm.userBalance)+\" LYRA\")]),(!_vm.isSending)?_c('div',{staticClass:\"text-center\"},[(_vm.valid)?_c('div',{staticClass:\"button is-primary is-large\",on:{\"click\":_vm.openUnlock}},[_vm._v(\"BUY\")]):_vm._e(),(!_vm.valid)?_c('div',[_vm._v(\"Amount is invalid.\")]):_vm._e()]):_vm._e(),(_vm.isSending)?_c('div',{staticClass:\"text-center\"},[_vm._v(\" Sending LYRA, please wait. \")]):_vm._e()],1):_vm._e(),(_vm.trade.type === 'BUY')?_c('div',{staticClass:\"column is-three-fifths is-offset-one-fifth\"},[_c('h2',{staticStyle:{\"text-align\":\"center\",\"font-size\":\"28px\",\"font-weight\":\"bold\",\"margin-bottom\":\"20px\"}},[_vm._v(\"Sell \"+_vm._s(_vm.sidechain.data.genesis.symbol)+\" for LYRA\")]),_c('h3',{staticStyle:{\"text-align\":\"center\",\"font-size\":\"18px\",\"font-weight\":\"bold\",\"margin-bottom\":\"20px\"}},[_vm._v(\"Price is \"+_vm._s(_vm.trade.price)+\" LYRA for 1 \"+_vm._s(_vm.sidechain.data.genesis.symbol))]),_c('b-field',{staticClass:\"text-center\",attrs:{\"label\":'Amount you mean to sell (Max is '+ _vm.trade.amountPair +' ' + _vm.sidechain.data.genesis.symbol +')'}},[_c('b-input',{attrs:{\"size\":\"is-large\",\"controls\":false,\"type\":\"is-dark\"},on:{\"input\":function($event){return _vm.fixAmounts('pair')}},model:{value:(_vm.amountPair),callback:function ($$v) {_vm.amountPair=$$v},expression:\"amountPair\"}})],1),_c('div',{staticStyle:{\"text-align\":\"right\",\"font-size\":\"14px\"}},[_vm._v(\"You have \"+_vm._s(_vm.userBalance)+\" \"+_vm._s(_vm.sidechain.data.genesis.symbol))]),_c('b-field',{staticClass:\"text-center\",attrs:{\"label\":'Amount you will earn (Max is '+ _vm.trade.amountAsset +' LYRA)'}},[_c('b-input',{staticClass:\"text-center\",attrs:{\"size\":\"is-large\",\"controls\":false,\"type\":\"is-dark\"},on:{\"input\":function($event){return _vm.fixAmounts('asset')}},model:{value:(_vm.amountAsset),callback:function ($$v) {_vm.amountAsset=$$v},expression:\"amountAsset\"}})],1),(!_vm.isSending)?_c('div',{staticClass:\"text-center\"},[(_vm.valid)?_c('div',{staticClass:\"button is-primary is-large\",on:{\"click\":_vm.openUnlock}},[_vm._v(\"SELL\")]):_vm._e(),(!_vm.valid)?_c('div',[_vm._v(\"Amount is invalid.\")]):_vm._e()]):_vm._e(),(_vm.isSending)?_c('div',{staticClass:\"text-center\"},[_vm._v(\" Sending \"+_vm._s(_vm.sidechain.data.genesis.symbol)+\", please wait. \")]):_vm._e()],1):_vm._e()]):_vm._e(),(_vm.trade.owner === _vm.user)?_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-three-fifths is-offset-one-fifth\"},[_c('h2',{staticStyle:{\"text-align\":\"center\",\"font-size\":\"28px\",\"font-weight\":\"bold\",\"margin-bottom\":\"20px\"}},[_vm._v(\"You're selling \"+_vm._s(_vm.sidechain.data.genesis.symbol)+\" for LYRA\")]),_c('h3',{staticStyle:{\"text-align\":\"center\",\"font-size\":\"18px\",\"font-weight\":\"bold\",\"margin-bottom\":\"20px\"}},[_vm._v(\"Price is \"+_vm._s(_vm.trade.price)+\" LYRA for 1 \"+_vm._s(_vm.sidechain.data.genesis.symbol))])])]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"home\">\n    <b-loading :is-full-page=\"isFullPage\" :active.sync=\"isLoading\" :can-cancel=\"false\"></b-loading>\n    <div class=\"columns\" v-if=\"trade.owner !== user\">\n      <div class=\"column is-three-fifths is-offset-one-fifth\" v-if=\"trade.type === 'SELL'\">\n        <h2 style=\"text-align:center; font-size:28px; font-weight:bold; margin-bottom:20px;\">Buy {{ sidechain.data.genesis.symbol }} for LYRA</h2>\n        <h3 style=\"text-align:center; font-size:18px; font-weight:bold; margin-bottom:20px;\">Price is {{ trade.price }} LYRA for 1 {{ sidechain.data.genesis.symbol}}</h3>\n\n        <b-field :label=\"'Amount you mean to buy (Max is '+ trade.amountPair +' ' + sidechain.data.genesis.symbol +')'\" class=\"text-center\">\n            <b-input size=\"is-large\" :controls=\"false\" v-model=\"amountPair\" v-on:input=\"fixAmounts('pair')\" type=\"is-dark\"></b-input>\n        </b-field> \n        <b-field :label=\"'Amount you will spend (Max is '+ trade.amountAsset +' LYRA)'\" class=\"text-center\">\n            <b-input size=\"is-large\" class=\"text-center\" :controls=\"false\" v-model=\"amountAsset\" v-on:input=\"fixAmounts('asset')\" type=\"is-dark\"></b-input>\n        </b-field>\n        <div style=\"text-align:right; font-size:14px\">You have {{ userBalance }} LYRA</div>\n\n        <div class=\"text-center\" v-if=\"!isSending\">\n          <div v-if=\"valid\" v-on:click=\"openUnlock\" class=\"button is-primary is-large\">BUY</div>\n          <div v-if=\"!valid\">Amount is invalid.</div>\n        </div>\n        <div class=\"text-center\" v-if=\"isSending\">\n          Sending LYRA, please wait.\n        </div>\n      </div>\n      <div class=\"column is-three-fifths is-offset-one-fifth\" v-if=\"trade.type === 'BUY'\">\n        <h2 style=\"text-align:center; font-size:28px; font-weight:bold; margin-bottom:20px;\">Sell {{ sidechain.data.genesis.symbol }} for LYRA</h2>\n        <h3 style=\"text-align:center; font-size:18px; font-weight:bold; margin-bottom:20px;\">Price is {{ trade.price }} LYRA for 1 {{ sidechain.data.genesis.symbol}}</h3>\n\n        <b-field :label=\"'Amount you mean to sell (Max is '+ trade.amountPair +' ' + sidechain.data.genesis.symbol +')'\" class=\"text-center\">\n            <b-input size=\"is-large\" :controls=\"false\" v-model=\"amountPair\" v-on:input=\"fixAmounts('pair')\" type=\"is-dark\"></b-input>\n        </b-field> \n        <div style=\"text-align:right; font-size:14px\">You have {{ userBalance }} {{ sidechain.data.genesis.symbol }}</div>\n        <b-field :label=\"'Amount you will earn (Max is '+ trade.amountAsset +' LYRA)'\" class=\"text-center\">\n            <b-input size=\"is-large\" class=\"text-center\" :controls=\"false\" v-model=\"amountAsset\" v-on:input=\"fixAmounts('asset')\" type=\"is-dark\"></b-input>\n        </b-field>\n\n        <div class=\"text-center\" v-if=\"!isSending\">\n          <div v-if=\"valid\" v-on:click=\"openUnlock\" class=\"button is-primary is-large\">SELL</div>\n          <div v-if=\"!valid\">Amount is invalid.</div>\n        </div>\n        <div class=\"text-center\" v-if=\"isSending\">\n          Sending {{ sidechain.data.genesis.symbol }}, please wait.\n        </div>\n      </div>\n    </div>\n    <div class=\"columns\" v-if=\"trade.owner === user\">\n      <div class=\"column is-three-fifths is-offset-one-fifth\">\n        <h2 style=\"text-align:center; font-size:28px; font-weight:bold; margin-bottom:20px;\">You're selling {{ sidechain.data.genesis.symbol }} for LYRA</h2>\n        <h3 style=\"text-align:center; font-size:18px; font-weight:bold; margin-bottom:20px;\">Price is {{ trade.price }} LYRA for 1 {{ sidechain.data.genesis.symbol}}</h3>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  const axios = require('axios')\n  export default {\n    name: 'Trade',\n    mounted : async function(){\n        const app = this\n        app.checkUser()\n        await app.getTrade()\n    },\n    methods: {\n        async checkUser(){\n            const app = this\n            let user = await app.scrypta.keyExist()\n            if(user.length === 34){\n              app.user = user\n            }else{\n              window.location = '/#/'\n            }\n        },\n        openUnlock() {\n            let valid = true\n            const app = this\n            let amountAssetWithFees = 0\n            if(app.trade.type === 'SELL'){\n              amountAssetWithFees = parseFloat(app.amountAsset) + 0.002\n              if(parseFloat(app.userBalance) < amountAssetWithFees){\n                valid = false\n                app.$buefy.toast.open({\n                    message: 'Not enough LYRA!',\n                    type: 'is-danger'\n                })\n              }\n            }else if(app.trade.type === 'BUY'){\n              if( parseFloat(app.userBalance) < parseFloat(app.amountPair)){\n                valid = false\n                app.$buefy.toast.open({\n                    message: 'Not enough assets!',\n                    type: 'is-danger'\n                })\n              }\n            }\n            if(valid === true){\n              app.$buefy.dialog.prompt({\n                  message: `Enter your wallet password to complete trade.`,\n                  inputAttrs: {\n                      placeholder: 'Enter password here',\n                      type: 'password'\n                  },\n                  trapFocus: true,\n                  onConfirm: async (value) => {\n                    let wallet = await app.scrypta.readKey(value)\n                    if(wallet === false){\n                      app.$buefy.toast.open({\n                          message: 'Wrong password!',\n                          type: 'is-danger'\n                      })\n                    }else{\n                      if(app.trade.type === 'SELL'){\n                        app.isSending = true\n                        let buy = await app.axios.post(app.apiurl + '/wallet/sendlyra',{\n                          \"from\": app.user,\n                          \"to\": app.trade.address,\n                          \"amount\": amountAssetWithFees,\n                          \"private_key\": wallet.prv\n                        })\n                        app.isSending = false\n                        if(buy['data']['success'] === true){\n                          app.$buefy.toast.open({\n                              message: 'LYRA sent correctly!',\n                              type: 'is-success'\n                          })\n                          app.getTrade()\n                        }else{\n                          app.$buefy.toast.open({\n                              message: 'Somthing goes wrong please retry.',\n                              type: 'is-danger'\n                          })\n                          app.isSending = false\n                        }\n                      }else if(app.trade.type === 'BUY'){\n                        let send = await app.axios.post(app.apiurl + '/wallet/sendtoken',{\n                          \"from\": app.user,\n                          \"to\": app.trade.address,\n                          \"amount\": app.amountPair,\n                          \"private_key\": wallet.prv,\n                          \"pubkey\": wallet.key,\n                          \"sidechain_address\": app.trade.pair,\n                          \"fee\": 0.002\n                        })\n                        app.isSending = false\n                        if(send['data']['lyra']['success'] === true && send['data']['sidechain']['txs'].length === 1){\n                          app.$buefy.toast.open({\n                              message: app.sidechain.data.genesis.symbol + ' sent correctly!',\n                              type: 'is-success'\n                          })\n                          setTimeout(function(){\n                            window.location = '/#/user'\n                          },1000)\n                        }else{\n                          app.$buefy.toast.open({\n                            message: 'Somthing goes wrong please retry.',\n                            type: 'is-danger'\n                          })\n                          app.isSending = false\n                        }\n                      }\n                    }\n                  }\n              })\n            }\n        },\n        async fixAmounts(what){\n          const app = this\n          let valid = true\n          let decimals = parseInt(app.sidechain.data.genesis.decimals)\n          if(app.amountAsset === ''){\n            app.amountAsset = 0\n          }\n          if(app.amountPair === ''){\n            app.amountPair = 0\n          }\n          if(app.amountAsset > 0){\n            app.amountAsset = parseFloat(parseFloat(app.amountAsset).toFixed(8))\n          }\n          if(app.amountPair > 0){\n            app.amountPair = parseFloat(parseFloat(app.amountPair).toFixed(decimals))\n          }\n          if(app.amountAsset > app.trade.amountAsset){\n            valid = false\n          }\n          if(app.amountPair > app.trade.amountPair){\n            valid = false\n          }\n          app.valid = valid\n          if(valid === true){\n            if(what === 'pair'){\n              app.amountAsset = parseFloat(app.amountPair) * parseFloat(app.trade.price)\n            }else{\n              app.amountPair = parseFloat(app.amountAsset) / parseFloat(app.trade.price)\n            }\n\n            app.amountAsset = parseFloat(parseFloat(app.amountAsset).toFixed(8))\n            app.amountPair = parseFloat(parseFloat(app.amountPair).toFixed(decimals))\n          }\n        },\n        async getTrade(){\n          const app = this\n          let trade = await app.axios.post(app.apiurl + '/trades/get', { uuid: app.$route.params.uuid })\n          app.trade = trade['data']['trade']\n          app.sidechain = trade['data']['sidechain']\n          app.amountPair = app.trade.amountPair\n          app.amountAsset = app.trade.amountAsset\n          if(app.trade.type === 'SELL'){\n            let balance = await app.axios.post(app.apiurl + '/wallet/balance', { asset: 'LYRA', address: app.user })\n            app.userBalance = balance['data']\n          }else if(app.trade.type === 'BUY'){\n            let balance = await app.axios.post(app.apiurl + '/wallet/balance', { asset: app.trade.pair, address: app.user })\n            app.userBalance = balance['data']\n          }\n          app.isLoading = false\n        },\n        convertTime(time){\n          let unix_timestamp = time\n          var date = new Date(unix_timestamp * 1000);\n          \n          var day = date.getUTCDate();\n          var month = date.getUTCMonth() + 1;\n          var year = date.getUTCFullYear();\n          var hours = date.getHours();\n          var minutes = \"0\" + date.getMinutes();\n          var seconds = \"0\" + date.getSeconds();\n\n          var formattedTime = day + '/' + month + '/' + year + ' at ' + hours + ':' + minutes.substr(-2) + ':' + seconds.substr(-2);\n          return formattedTime\n        },\n        async logout() {\n            const app = this;\n            await app.scrypta.forgetKey();\n            location.reload();\n        }\n    },\n    data () {\n        return {\n          scrypta: window.ScryptaCore,\n          axios: axios,\n          user: '',\n          userBalance: 0,\n          valid: true,\n          focus: '',\n          isLoading: true,\n          isFullPage: true,\n          isSending: false,\n          assetSelected: '',\n          amountPair: 0,\n          amountAsset: 0,\n          trade: {\n            type: '-'\n          },\n          sidechain: {\n            data: {\n              genesis: {\n                symbol: '-'\n              }\n            }\n          },\n          apiurl: 'https://ex.planum.dev'\n        }\n    }\n  }\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Trade.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Trade.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Trade.vue?vue&type=template&id=8c8c05f8&\"\nimport script from \"./Trade.vue?vue&type=script&lang=js&\"\nexport * from \"./Trade.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar toInteger = require('../internals/to-integer');\nvar thisNumberValue = require('../internals/this-number-value');\nvar repeat = require('../internals/string-repeat');\nvar fails = require('../internals/fails');\n\nvar nativeToFixed = 1.0.toFixed;\nvar floor = Math.floor;\n\nvar pow = function (x, n, acc) {\n  return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc);\n};\n\nvar log = function (x) {\n  var n = 0;\n  var x2 = x;\n  while (x2 >= 4096) {\n    n += 12;\n    x2 /= 4096;\n  }\n  while (x2 >= 2) {\n    n += 1;\n    x2 /= 2;\n  } return n;\n};\n\nvar FORCED = nativeToFixed && (\n  0.00008.toFixed(3) !== '0.000' ||\n  0.9.toFixed(0) !== '1' ||\n  1.255.toFixed(2) !== '1.25' ||\n  1000000000000000128.0.toFixed(0) !== '1000000000000000128'\n) || !fails(function () {\n  // V8 ~ Android 4.3-\n  nativeToFixed.call({});\n});\n\n// `Number.prototype.toFixed` method\n// https://tc39.github.io/ecma262/#sec-number.prototype.tofixed\n$({ target: 'Number', proto: true, forced: FORCED }, {\n  // eslint-disable-next-line max-statements\n  toFixed: function toFixed(fractionDigits) {\n    var number = thisNumberValue(this);\n    var fractDigits = toInteger(fractionDigits);\n    var data = [0, 0, 0, 0, 0, 0];\n    var sign = '';\n    var result = '0';\n    var e, z, j, k;\n\n    var multiply = function (n, c) {\n      var index = -1;\n      var c2 = c;\n      while (++index < 6) {\n        c2 += n * data[index];\n        data[index] = c2 % 1e7;\n        c2 = floor(c2 / 1e7);\n      }\n    };\n\n    var divide = function (n) {\n      var index = 6;\n      var c = 0;\n      while (--index >= 0) {\n        c += data[index];\n        data[index] = floor(c / n);\n        c = (c % n) * 1e7;\n      }\n    };\n\n    var dataToString = function () {\n      var index = 6;\n      var s = '';\n      while (--index >= 0) {\n        if (s !== '' || index === 0 || data[index] !== 0) {\n          var t = String(data[index]);\n          s = s === '' ? t : s + repeat.call('0', 7 - t.length) + t;\n        }\n      } return s;\n    };\n\n    if (fractDigits < 0 || fractDigits > 20) throw RangeError('Incorrect fraction digits');\n    // eslint-disable-next-line no-self-compare\n    if (number != number) return 'NaN';\n    if (number <= -1e21 || number >= 1e21) return String(number);\n    if (number < 0) {\n      sign = '-';\n      number = -number;\n    }\n    if (number > 1e-21) {\n      e = log(number * pow(2, 69, 1)) - 69;\n      z = e < 0 ? number * pow(2, -e, 1) : number / pow(2, e, 1);\n      z *= 0x10000000000000;\n      e = 52 - e;\n      if (e > 0) {\n        multiply(0, z);\n        j = fractDigits;\n        while (j >= 7) {\n          multiply(1e7, 0);\n          j -= 7;\n        }\n        multiply(pow(10, j, 1), 0);\n        j = e - 1;\n        while (j >= 23) {\n          divide(1 << 23);\n          j -= 23;\n        }\n        divide(1 << j);\n        multiply(1, 1);\n        divide(2);\n        result = dataToString();\n      } else {\n        multiply(0, z);\n        multiply(1 << -e, 0);\n        result = dataToString() + repeat.call('0', fractDigits);\n      }\n    }\n    if (fractDigits > 0) {\n      k = result.length;\n      result = sign + (k <= fractDigits\n        ? '0.' + repeat.call('0', fractDigits - k) + result\n        : result.slice(0, k - fractDigits) + '.' + result.slice(k - fractDigits));\n    } else {\n      result = sign + result;\n    } return result;\n  }\n});\n"],"sourceRoot":""}